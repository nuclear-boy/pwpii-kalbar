<!DOCTYPE html>
<html lang="id" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Struktur Organisasi - PW PII Kalbar</title>
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Performance Optimizations -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdn.tailwindcss.com">
    <link rel="dns-prefetch" href="https://cdn-icons-png.flaticon.com">

    <!-- Non-blocking Font Loading -->
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Press+Start+2P&family=VT323&display=swap"
        rel="stylesheet" media="print" onload="this.media='all'">
    <noscript>
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Press+Start+2P&family=VT323&display=swap"
            rel="stylesheet">
    </noscript>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }

        /* [OPTIMASI] Tailwind CLI Build */
        /* @import url('./dist/output.css'); */

        /* SKELETON LOADER */
        #struktur-skeleton {
            position: fixed;
            inset: 0;
            z-index: 9999;
            background: #f8fafc;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: opacity 0.5s;
        }

        .sk-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            width: 100px;
            height: 100px;
        }

        .sk-cell {
            background: #e2e8f0;
            border-radius: 4px;
            animation: sk-grid-fade 1.5s infinite ease-in-out;
        }

        .sk-cell:nth-child(1) {
            animation-delay: 0.1s;
        }

        .sk-cell:nth-child(2) {
            animation-delay: 0.2s;
        }

        .sk-cell:nth-child(3) {
            animation-delay: 0.3s;
        }

        .sk-cell:nth-child(4) {
            animation-delay: 0.4s;
        }

        .sk-cell:nth-child(5) {
            animation-delay: 0.5s;
        }

        .sk-cell:nth-child(6) {
            animation-delay: 0.6s;
        }

        .sk-cell:nth-child(7) {
            animation-delay: 0.7s;
        }

        .sk-cell:nth-child(8) {
            animation-delay: 0.8s;
        }

        .sk-cell:nth-child(9) {
            animation-delay: 0.9s;
        }

        @keyframes sk-grid-fade {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.3;
            }
        }

        /* Other Styles */
        .font-pixel {
            font-family: 'Press Start 2P', cursive;
        }

        .font-retro {
            font-family: 'VT323', monospace;
            font-size: 1.2rem;
        }

        .hex-bg-light {
            background-color: #f9fafb;
            background-image: radial-gradient(#e2e8f0 1px, transparent 1px);
            background-size: 24px 24px;
        }

        .hex-bg-dark {
            background-color: #0f172a;
            background-image: radial-gradient(#1e293b 1px, transparent 1px);
            background-size: 24px 24px;
        }

        .glass-footer {
            background: linear-gradient(to bottom, #0f172a, #020617);
        }

        /* ... existing luxury header styles ... */
        .luxury-header {
            background: radial-gradient(circle at top right, #312e81, #1e1b4b);
            position: relative;
            overflow: hidden;
        }

        .luxury-pattern {
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23fbbf24' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }

        @keyframes drift {
            0% {
                background-position: 0% 0%, 0% 0%;
            }

            100% {
                background-position: 100% 100%, 50% 50%;
            }
        }

        .moving-bg {
            position: absolute;
            inset: 0;
            background-image: radial-gradient(white 1px, transparent 1px), radial-gradient(rgba(255, 255, 255, 0.5) 1px, transparent 1px);
            background-size: 60px 60px, 120px 120px;
            opacity: 0.1;
            animation: drift 60s infinite linear;
            pointer-events: none;
        }

        @keyframes float-random-icon {
            0% {
                transform: translate(0, 0) rotate(0deg);
            }

            25% {
                transform: translate(20px, -30px) rotate(15deg);
            }

            50% {
                transform: translate(-20px, -50px) rotate(-15deg);
            }

            75% {
                transform: translate(-40px, -20px) rotate(10deg);
            }

            100% {
                transform: translate(0, 0) rotate(0deg);
            }
        }

        .context-particle {
            position: absolute;
            animation: float-random-icon infinite ease-in-out;
            pointer-events: none;
            user-select: none;
            filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.3));
            image-rendering: pixelated;
        }

        @keyframes float-frame-1 {
            0% {
                transform: translate(0, 0) rotate(-3deg);
            }

            50% {
                transform: translate(15px, 25px) rotate(3deg);
            }

            100% {
                transform: translate(0, 0) rotate(-3deg);
            }
        }

        @keyframes float-frame-2 {
            0% {
                transform: translate(0, 0) rotate(2deg);
            }

            50% {
                transform: translate(-20px, 15px) rotate(-2deg);
            }

            100% {
                transform: translate(0, 0) rotate(2deg);
            }
        }

        .floating-frame {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(2px);
            padding: 6px;
            border-radius: 8px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.15);
            opacity: 0.6;
            transition: all 0.3s;
            z-index: 2;
            cursor: pointer;
        }

        .floating-frame:hover {
            opacity: 1;
            z-index: 20;
            transform: scale(1.1) rotate(0deg) !important;
            border-color: #fbbf24;
        }

        .floating-frame img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 4px;
            filter: sepia(30%);
            transition: filter 0.3s;
        }

        .floating-frame:hover img {
            filter: sepia(0%);
        }

        .anim-float-1 {
            animation: float-frame-1 12s infinite ease-in-out;
        }

        .anim-float-2 {
            animation: float-frame-2 15s infinite ease-in-out;
        }

        .org-card {
            background: white;
            border-radius: 1.5rem;
            padding: 1.5rem;
            text-align: center;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            z-index: 10;
            border: 1px solid #e5e7eb;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-width: 180px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
        }

        .org-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 25px -5px rgba(79, 70, 229, 0.15), 0 10px 10px -5px rgba(79, 70, 229, 0.1);
            border-color: #6366f1;
        }

        .org-card img {
            width: 90px;
            height: 90px;
            border-radius: 50%;
            object-fit: cover;
            object-position: center 35%;
            border: 4px solid #e0e7ff;
            margin-bottom: 1rem;
            transition: border-color 0.3s;
            background-color: #f3f4f6;
            image-rendering: -webkit-optimize-contrast;
            image-rendering: crisp-edges;
            transform: scale(1.15);
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
            -webkit-font-smoothing: antialiased;
        }

        .org-card:hover img {
            border-color: #818cf8;
        }

        .level-1 .org-card {
            border-top: 4px solid #4f46e5;
        }

        .level-2 .org-card {
            border-top: 4px solid #0ea5e9;
        }

        .level-3 .org-card {
            border-top: 4px solid #10b981;
        }

        .connector-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .connector-path {
            fill: none;
            stroke: #cbd5e1;
            stroke-width: 2;
        }

        .dropdown-group:hover .dropdown-menu {
            opacity: 1;
            transform: translateY(0);
            pointer-events: auto;
        }

        .dropdown-menu {
            transition: all 0.3s ease;
            transform: translateY(10px);
            pointer-events: none;
        }

        #profile-modal,
        #gallery-modal {
            transition: opacity 0.3s ease;
        }

        .modal-content {
            transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        #modal-img {
            object-position: center 35%;
            image-rendering: -webkit-optimize-contrast;
            image-rendering: crisp-edges;
            transform: scale(1.1);
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
            -webkit-font-smoothing: antialiased;
        }

        .pixel-border {
            border-style: solid;
            border-width: 4px;
            border-image-slice: 2;
            border-image-width: 2;
            border-image-repeat: stretch;
            border-image-source: url('data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8" ?><svg version="1.1" width="5" height="5" xmlns="http://www.w3.org/2000/svg"><path d="M2 1 h1 v1 h-1 z M1 2 h1 v1 h-1 z M3 2 h1 v1 h-1 z M2 3 h1 v1 h-1 z" fill="rgb(255,255,255)" /></svg>');
            border-image-outset: 2;
        }

        .retro-scanlines {
            background: linear-gradient(to bottom, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0) 50%, rgba(0, 0, 0, 0.1) 50%, rgba(0, 0, 0, 0.1));
            background-size: 100% 4px;
        }
    </style>
</head>

<body class="hex-bg-light text-slate-900 selection:bg-indigo-100 selection:text-indigo-900">
    <!-- SKELETON LOADER (Script moved to bottom for performance) -->
    <div id="struktur-skeleton">
        <div class="sk-grid">
            <div class="sk-cell"></div>
            <div class="sk-cell"></div>
            <div class="sk-cell"></div>
            <div class="sk-cell"></div>
            <div class="sk-cell"></div>
            <div class="sk-cell"></div>
            <div class="sk-cell"></div>
            <div class="sk-cell"></div>
            <div class="sk-cell"></div>
        </div>
    </div>

    <!-- NAVBAR -->
    <nav
        class="sticky top-0 z-50 flex items-center justify-between px-6 md:px-10 py-4 bg-white/70 backdrop-blur-lg border-b border-gray-100">
        <div class="flex items-center space-x-8">
            <div class="text-2xl font-bold text-indigo-900">
                <a href="index.html" class="block hover:opacity-80 transition transform active:scale-95">
                    <img src="./logo/pwpii kalbar.webp" fetchpriority="high" decoding="async"
                        onerror="this.src='https://via.placeholder.com/200x60?text=LOGO+PW+PII'"
                        alt="Logo PW PII Kalbar" class="h-10 object-contain" width="160" height="40">
                </a>
            </div>
            <div class="hidden md:flex space-x-6 text-gray-600 font-medium text-sm">
                <div class="relative dropdown-group py-2">
                    <a href="#"
                        class="hover:text-indigo-600 transition flex items-center gap-1 cursor-default text-indigo-600">
                        Tentang Kami
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path d="M19 9l-7 7-7-7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            </path>
                        </svg>
                    </a>
                    <div
                        class="absolute top-full left-0 w-56 bg-white border border-gray-100 shadow-xl rounded-2xl p-2 dropdown-menu opacity-0">
                        <a href="struktur.html"
                            class="block px-4 py-3 bg-indigo-50 text-indigo-600 rounded-xl font-semibold">Struktur
                            Organisasi</a>
                        <a href="sejarah.html"
                            class="block px-4 py-3 hover:bg-indigo-50 rounded-xl transition text-gray-700 hover:text-indigo-600 font-semibold">Sejarah
                            Berdiri</a>
                        <a href="falsafah.html"
                            class="block px-4 py-3 hover:bg-indigo-50 rounded-xl transition text-gray-700 hover:text-indigo-600 font-semibold">Falsafah
                            Gerakan</a>
                    </div>
                </div>
                <a href="index.html#sambutan" class="hover:text-indigo-600 transition py-2">Sambutan</a>
                <div class="relative dropdown-group py-2">
                    <a href="index.html#program"
                        class="hover:text-indigo-600 transition flex items-center gap-1 cursor-default">
                        Program
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path d="M19 9l-7 7-7-7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            </path>
                        </svg>
                    </a>
                    <div
                        class="absolute top-full left-0 w-56 bg-white border border-gray-100 shadow-xl rounded-2xl p-2 dropdown-menu opacity-0">
                        <a href="#"
                            class="block px-4 py-3 hover:bg-indigo-50 rounded-xl transition text-gray-700 hover:text-indigo-600 font-semibold flex justify-between items-center">
                            Riset Pelajar <span
                                class="ml-1 px-1.5 py-0.5 bg-yellow-100 text-yellow-700 text-[9px] font-bold rounded-full border border-yellow-200 uppercase tracking-wide">Proses</span>
                        </a>
                        <a href="#"
                            class="block px-4 py-3 hover:bg-indigo-50 rounded-xl transition text-gray-700 hover:text-indigo-600 font-semibold flex justify-between items-center">
                            Madrasah Digital <span
                                class="ml-1 px-1.5 py-0.5 bg-yellow-100 text-yellow-700 text-[9px] font-bold rounded-full border border-yellow-200 uppercase tracking-wide">Proses</span>
                        </a>
                        <a href="#"
                            class="block px-4 py-3 hover:bg-indigo-50 rounded-xl transition text-gray-700 hover:text-indigo-600 font-semibold flex justify-between items-center">
                            Website Cendekia <span
                                class="ml-1 px-1.5 py-0.5 bg-yellow-100 text-yellow-700 text-[9px] font-bold rounded-full border border-yellow-200 uppercase tracking-wide">Proses</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="hidden md:flex space-x-3">
            <a href="main.html"
                class="px-5 py-2 text-sm text-indigo-600 font-semibold hover:text-indigo-800 transition">Masuk</a>
            <a href="main.html"
                class="px-5 py-2 bg-indigo-600 text-white text-sm rounded-full font-semibold hover:bg-indigo-700 shadow-md transition transform hover:scale-105">Gabung
                PII</a>
        </div>
        <!-- MOBILE MENU BUTTON -->
        <button id="mobile-menu-btn" aria-label="Buka Menu"
            class="md:hidden p-2 text-indigo-900 focus:outline-none rounded-lg hover:bg-indigo-50 transition">
            <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
            </svg>
        </button>
    </nav>

    <!-- MOBILE MENU CONTAINER -->
    <div id="mobile-menu"
        class="hidden md:hidden fixed top-[73px] left-0 w-full bg-white/95 backdrop-blur-xl border-b border-gray-100 shadow-xl z-50 overflow-hidden transform transition-all duration-300 origin-top">
        <div class="p-6 space-y-4 flex flex-col">
            <a href="index.html" class="block text-gray-700 font-semibold hover:text-indigo-600 transition">Beranda</a>

            <div class="border-t border-gray-100 pt-4">
                <p class="text-xs font-bold text-gray-400 uppercase tracking-widest mb-2">Tentang Kami</p>
                <a href="struktur.html"
                    class="block py-2 bg-indigo-50 text-indigo-600 rounded px-2 -mx-2 font-semibold">Struktur
                    Organisasi</a>
                <a href="sejarah.html" class="block py-2 text-gray-600 hover:text-indigo-600">Sejarah Berdiri</a>
                <a href="falsafah.html" class="block py-2 text-gray-600 hover:text-indigo-600">Falsafah Gerakan</a>
            </div>

            <div class="border-t border-gray-100 pt-4">
                <p class="text-xs font-bold text-gray-400 uppercase tracking-widest mb-2">Program</p>
                <a href="index.html#program" class="block py-2 text-gray-600 hover:text-indigo-600">Riset Pelajar</a>
                <a href="index.html#program" class="block py-2 text-gray-600 hover:text-indigo-600">Madrasah Digital</a>
            </div>

            <div class="flex flex-col gap-3 pt-6 border-t border-gray-100">
                <a href="main.html"
                    class="w-full py-3 text-center text-indigo-600 font-bold border border-indigo-100 rounded-xl hover:bg-indigo-50">Masuk</a>
                <a href="main.html"
                    class="w-full py-3 text-center bg-indigo-600 text-white font-bold rounded-xl shadow-lg shadow-indigo-200">Gabung
                    PII</a>
            </div>
        </div>
    </div>

    <!-- HEADER MEWAH (Floating Frames Clickable) -->
    <header class="luxury-header text-center py-40 relative">
        <div class="luxury-pattern absolute inset-0 opacity-20"></div>
        <div class="absolute top-0 left-0 w-full h-full bg-gradient-to-b from-transparent to-slate-900/40"></div>
        <div class="moving-bg"></div>

        <!-- Floating Frames (Dokumentasi Penuh - Dengan OnClick) -->
        <div class="floating-frame w-40 h-32 top-10 left-5 anim-float-1 hidden md:block"
            onclick="openGallery('./logo/Dokumentasi/dok1.webp', 'Traning Center')">
            <img src="./logo/Dokumentasi/dok1.webp" alt="Dokumentasi Training Center" loading="lazy" decoding="async"
                width="160" height="128">
        </div>
        <div class="floating-frame w-36 h-28 top-1/2 left-10 anim-float-2 hidden md:block"
            onclick="openGallery('./logo/Dokumentasi/dok2.webp', 'Berburu Almaz')">
            <img src="./logo/Dokumentasi/dok2.webp" alt="Dokumentasi Berburu Almaz" loading="lazy" decoding="async"
                width="144" height="112">
        </div>
        <div class="floating-frame w-44 h-36 bottom-10 left-20 anim-float-3 hidden md:block"
            onclick="openGallery('./logo/Dokumentasi/dok3.webp', 'Pelantikan')">
            <img src="./logo/Dokumentasi/dok3.webp" alt="Dokumentasi Pelantikan" loading="lazy" decoding="async"
                width="176" height="144">
        </div>
        <div class="floating-frame w-44 h-32 top-12 right-10 anim-float-2 hidden md:block"
            onclick="openGallery('./logo/Dokumentasi/dok4.webp', 'Training Center')">
            <img src="./logo/Dokumentasi/dok4.webp" alt="Dokumentasi Training Kegiatan" loading="lazy" decoding="async"
                width="176" height="128">
        </div>
        <div class="floating-frame w-36 h-36 top-1/2 right-5 anim-float-1 hidden md:block"
            onclick="openGallery('./logo/Dokumentasi/harbanas.webp', 'Hari Bangkit Wilayah')">
            <img src="./logo/Dokumentasi/harbanas.webp" alt="Dokumentasi Hari Bangkit" loading="lazy" decoding="async"
                width="144" height="144">
        </div>
        <div class="floating-frame w-40 h-32 bottom-20 right-24 anim-float-2 hidden md:block"
            onclick="openGallery('./logo/Dokumentasi/kb herman.webp', 'Silahturahmi Rumah KB')">
            <img src="./logo/Dokumentasi/kb herman.webp" alt="Dokumentasi Silahturahmi" loading="lazy" decoding="async"
                width="160" height="128">
        </div>
        <div class="floating-frame w-32 h-24 top-20 left-1/3 anim-float-1 hidden md:block opacity-30"
            onclick="openGallery('./logo/Dokumentasi/mahasiswa.webp', 'LBTM 2024')">
            <img src="./logo/Dokumentasi/mahasiswa.webp" alt="Dokumentasi LBTM 2024" loading="lazy" decoding="async"
                width="128" height="96">
        </div>
        <div class="floating-frame w-32 h-24 bottom-24 right-1/3 anim-float-2 hidden md:block opacity-30"
            onclick="openGallery('./logo/Dokumentasi/sma3.webp', 'LBT AKBAR SMA 3')">
            <img src="./logo/Dokumentasi/sma3.webp" alt="Dokumentasi LBT SMA 3" loading="lazy" decoding="async"
                width="128" height="96">
        </div>
        <div class="floating-frame w-28 h-28 top-5 left-1/2 anim-float-1 hidden md:block opacity-20"
            onclick="openGallery('./logo/Dokumentasi/DSC00185.webp', 'Kolaborasi Bersama Munzalan')">
            <img src="./logo/Dokumentasi/DSC00185.webp" alt="Dokumentasi Munzalan" loading="lazy" decoding="async"
                width="112" height="112">
        </div>
        <div class="floating-frame w-32 h-24 bottom-5 left-1/2 anim-float-2 hidden md:block opacity-20"
            onclick="openGallery('./logo/Dokumentasi/sambas.webp', 'Instruktur LBT Sambas 2024')">
            <img src="./logo/Dokumentasi/sambas.webp" alt="Dokumentasi LBT Sambas" loading="lazy" decoding="async"
                width="128" height="96">
        </div>

        <div class="max-w-4xl mx-auto px-6 relative z-10">
            <div
                class="inline-block px-4 py-1.5 border border-yellow-500/30 bg-yellow-500/10 rounded-full mb-4 backdrop-blur-sm">
                <span class="text-yellow-400 font-bold tracking-widest uppercase text-xs">Periode 2025 - 2027</span>
            </div>
            <h1 class="text-4xl md:text-5xl font-extrabold text-white mt-2 mb-6 tracking-tight drop-shadow-lg">
                Struktur Organisasi <br>
                <span
                    class="text-transparent bg-clip-text bg-gradient-to-r from-yellow-200 via-yellow-400 to-yellow-200">PW
                    PII Kalimantan Barat</span>
            </h1>
            <p class="text-indigo-100 max-w-2xl mx-auto text-lg font-light leading-relaxed">
                Sinergi kepemimpinan kolaboratif untuk membangun peradaban pelajar yang berkemajuan dan berdaya saing
                global.
            </p>
        </div>
    </header>

    <!-- BAGAN STRUKTUR (GRID LAYOUT) -->
    <main class="py-16 px-4 min-h-screen relative overflow-hidden">
        <!-- Connector SVG hidden on mobile to avoid broken lines in stacked view -->
        <svg id="connector-svg" class="connector-container hidden md:block"></svg>

        <div class="max-w-7xl mx-auto flex flex-col items-center gap-16 relative z-10">

            <!-- LEVEL 1 -->
            <div class="level-1 flex flex-col md:flex-row justify-center items-center w-full" id="lvl-1">
                <div class="org-card w-full max-w-[260px] md:w-64 shadow-2xl shadow-indigo-200/50"
                    onclick="openProfile('ketum')" id="card-ketum">
                    <img src="./logo/Foto Pengurus/Ardi.webp" loading="lazy" decoding="async" width="90" height="90"
                        onerror="this.src='https://via.placeholder.com/150?text=Ardi'" alt="M. Ardiansyah - Ketua Umum">
                    <h3 class="text-lg font-bold text-gray-900 break-words">M. Ardiansyah</h3>
                    <p class="text-indigo-600 text-xs font-bold uppercase tracking-wider mt-1 break-words">Ketua Umum
                    </p>
                </div>
            </div>

            <!-- LEVEL 2 -->
            <div class="level-2 flex flex-col md:flex-row flex-wrap justify-center items-center gap-8 md:gap-32 w-full"
                id="lvl-2">
                <div class="org-card w-full max-w-[240px] md:w-56" onclick="openProfile('sekum')" id="card-sekum">
                    <img src="./logo/Foto Pengurus/Joni Hatta.webp" alt="Joni Hatta - Sekretaris Umum" loading="lazy"
                        decoding="async" width="90" height="90">
                    <h3 class="text-base font-bold text-gray-900 break-words">Joni Hatta</h3>
                    <p class="text-sky-700 text-xs font-bold uppercase tracking-wider mt-1 break-words">Sekretaris Umum
                    </p>
                </div>
                <!-- Connector Line visual for mobile ONLY (vertical line) -->
                <div class="block md:hidden w-1 h-8 bg-gray-300 -my-4 z-0"></div>

                <div class="org-card w-full max-w-[240px] md:w-56" onclick="openProfile('bendum')" id="card-bendum">
                    <img src="./logo/Foto Pengurus/zahra.webp" alt="Habibah Zahra Alatas - Bendahara Umum"
                        loading="lazy" decoding="async" width="90" height="90">
                    <h3 class="text-base font-bold text-gray-900 break-words">Zahra Najwa Alatas</h3>
                    <p class="text-sky-700 text-xs font-bold uppercase tracking-wider mt-1 break-words">Bendahara Umum
                    </p>
                </div>
            </div>

            <!-- LEVEL 3 -->
            <div class="level-3 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6 w-full px-4"
                id="lvl-3">
                <div class="org-card" onclick="openProfile('kaderisasi')" id="card-bid1">
                    <img src="./logo/Foto Pengurus/Nur â€˜Atira.webp" alt="Nur Atira - Bidang Kaderisasi" loading="lazy"
                        decoding="async" width="90" height="90">
                    <h3 class="text-sm font-bold text-gray-900">Nur Atira</h3>
                    <p class="text-emerald-700 text-[10px] font-bold uppercase mt-1">Bidang Kaderisasi</p>
                </div>
                <div class="org-card" onclick="openProfile('ppo')" id="card-bid2">
                    <img src="./logo/Foto Pengurus/Besiri.webp" alt="Besirin - Bidang PPO" loading="lazy"
                        decoding="async" width="90" height="90">
                    <h3 class="text-sm font-bold text-gray-900">Besirin, S.Psi</h3>
                    <p class="text-emerald-700 text-[10px] font-bold uppercase mt-1">Bidang PPO</p>
                </div>
                <div class="org-card" onclick="openProfile('komum')" id="card-bid3">
                    <img src="./logo/Foto Pengurus/dita.webp" alt="Dita Bengkayang - Bidang Komunikasi Umat"
                        loading="lazy" decoding="async" width="90" height="90">
                    <h3 class="text-sm font-bold text-gray-900">Dita Bengkayang</h3>
                    <p class="text-emerald-700 text-[10px] font-bold uppercase mt-1">Bidang Komunikasi Umat</p>
                </div>
                <div class="org-card" onclick="openProfile('ekonomi')" id="card-bid4">
                    <img src="./logo/Foto Pengurus/zahra.webp" alt="Zahra Najwa Alatas - Bidang Ekonomi" loading="lazy"
                        decoding="async" width="90" height="90">
                    <h3 class="text-sm font-bold text-gray-900">Zahra Najwa Alatas</h3>
                    <p class="text-emerald-700 text-[10px] font-bold uppercase mt-1">Bidang Ekonomi</p>
                </div>
                <div class="org-card border-yellow-200 bg-yellow-50/50" onclick="openProfile('riset')" id="card-bid5">
                    <img src="./logo/Foto Pengurus/Fiqkri Putra Riswanda.webp" loading="lazy" decoding="async"
                        width="90" height="90" onerror="this.src='https://via.placeholder.com/150?text=Riset'"
                        alt="Fiqkri Putra Riswanda - Bidang Riset">
                    <h3 class="text-sm font-bold text-gray-900">Fiqkri Putra Riswanda</h3>
                    <p class="text-yellow-700 text-[10px] font-bold uppercase mt-1">Bidang Riset</p>
                </div>
            </div>
        </div>
    </main>

    <!-- MODAL PROFIL (DENGAN BACKGROUND IKON PIXEL ART) -->
    <div id="profile-modal"
        class="fixed inset-0 z-[100] hidden items-center justify-center bg-slate-900/80 backdrop-blur-md p-4">
        <div
            class="modal-content relative w-full max-w-4xl bg-white rounded-[2rem] shadow-2xl overflow-hidden transform scale-90 opacity-0 transition-all duration-300 flex flex-col md:flex-row h-[90vh] md:h-auto max-h-[90vh]">

            <button onclick="closeProfile()"
                class="absolute top-4 right-4 z-20 w-12 h-12 bg-white rounded-full flex items-center justify-center transition shadow-lg border-2 border-red-100 hover:border-red-500 hover:bg-red-50 group"
                title="Tutup">
                <svg class="w-6 h-6 text-red-500 group-hover:scale-110 transition-transform" fill="none"
                    stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5"
                        d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
            </button>

            <!-- Sisi Kiri: (DYNAMIC BACKGROUND TRANSPARAN) -->
            <div
                class="md:w-5/12 bg-indigo-950/60 backdrop-blur-md text-white p-10 flex flex-col items-center justify-center text-center relative overflow-hidden shrink-0">
                <!-- Dynamic Context Background (Ikon Bergerak) -->
                <div id="modal-bg-anim"
                    class="absolute inset-0 pointer-events-none transition-all duration-500 overflow-hidden">
                    <!-- Partikel akan di-inject di sini via JS -->
                </div>

                <div class="absolute inset-0 luxury-pattern opacity-10 mix-blend-overlay"></div>

                <div class="relative z-10 w-full flex flex-col items-center">
                    <div
                        class="w-40 h-40 rounded-full p-1 bg-gradient-to-tr from-yellow-400 to-indigo-500 mb-6 shadow-2xl">
                        <img id="modal-img" src=""
                            class="w-full h-full rounded-full border-4 border-indigo-900 object-cover bg-gray-200">
                    </div>

                    <!-- BOX INFORMASI (Glass Card Baru - Lebih Soft & Elegan) -->
                    <div
                        class="mt-6 bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-md rounded-2xl p-6 w-full max-w-xs border border-white/20 shadow-xl">
                        <h3 id="modal-name" class="text-2xl font-bold tracking-tight mb-2 text-white drop-shadow-md">
                            Nama Lengkap</h3>
                        <div class="inline-block">
                            <p id="modal-pos"
                                class="text-yellow-300 text-sm font-bold uppercase tracking-widest px-3 py-1 border border-yellow-400/50 rounded-full bg-yellow-400/20">
                                Jabatan</p>
                        </div>
                        <div class="flex gap-4 mt-6 justify-center" id="modal-socials"></div>
                    </div>
                </div>
            </div>

            <!-- Sisi Kanan: Detail Informasi -->
            <div class="md:w-7/12 bg-white flex flex-col overflow-y-auto">
                <div class="p-8 md:p-10 space-y-8">
                    <div>
                        <h4
                            class="text-xs font-bold text-indigo-500 uppercase tracking-widest mb-4 flex items-center gap-2 font-pixel text-[10px]">
                            <span class="w-3 h-3 bg-indigo-500 block mr-1"></span> PLAYER STATS
                        </h4>
                        <div class="grid grid-cols-1 gap-y-4 text-sm bg-slate-50 p-6 rounded-xl border-2 border-slate-200 font-mono shadow-inner"
                            id="modal-bio"></div>
                    </div>

                    <div class="relative pl-6 border-l-4 border-yellow-400">
                        <svg class="absolute -top-3 -left-2 w-6 h-6 text-yellow-400 bg-white" fill="currentColor"
                            viewBox="0 0 24 24">
                            <path
                                d="M14.017 21L14.017 18C14.017 16.896 14.321 16.062 14.929 15.498C15.537 14.934 16.329 14.652 17.305 14.652L17.565 14.652C18.673 14.652 19.227 14.098 19.227 12.99V10.278C19.227 9.17 18.673 8.616 17.565 8.616L17.201 8.616C16.213 8.616 15.421 8.334 14.825 7.77C14.229 7.206 13.931 6.372 13.931 5.268L13.931 3L16.271 3C17.379 3 17.933 3.554 17.933 4.662V5.598C17.933 6.706 9.237 7.54 9.845 8.104C10.453 8.668 11.245 8.95 12.221 8.95L12.481 8.95C13.589 8.95 14.143 9.504 14.143 10.612V21H14.017ZM5.017 21L5.017 18C5.017 16.896 5.321 16.062 5.929 15.498C6.537 14.934 7.329 14.652 8.305 14.652L8.565 14.652C9.673 14.652 10.227 14.098 10.227 12.99V10.278C10.227 9.17 9.673 8.616 8.565 8.616L8.201 8.616C7.213 8.616 6.421 8.334 5.825 7.77C5.229 7.206 4.931 6.372 4.931 5.268L4.931 3L7.271 3C8.379 3 8.933 3.554 8.933 4.662V5.598C8.933 6.706 9.237 7.54 9.845 8.104C10.453 8.668 11.245 8.95 12.221 8.95L12.481 8.95C13.589 8.95 14.143 9.504 14.143 10.612V21H14.017Z" />
                        </svg>
                        <p id="modal-quote" class="text-gray-700 italic text-lg leading-relaxed font-serif">"..."</p>
                        <p class="text-xs text-gray-400 mt-2 font-bold uppercase tracking-wide">Mission Objective</p>
                    </div>

                    <div class="pt-4 border-t border-gray-100 mt-auto">
                        <div class="flex justify-between items-center mb-4">
                            <h4
                                class="text-xs font-bold text-indigo-500 uppercase tracking-widest font-pixel text-[10px]">
                                PARTY MEMBERS</h4>
                            <div class="flex space-x-2">
                                <button onclick="prevStaff()"
                                    class="w-8 h-8 rounded bg-gray-100 border-2 border-gray-300 flex items-center justify-center hover:bg-gray-200 transition shadow-[2px_2px_0px_rgba(0,0,0,0.1)] active:shadow-none active:translate-y-[2px]"><svg
                                        class="w-3 h-3 text-gray-600" fill="none" stroke="currentColor"
                                        viewBox="0 0 24 24">
                                        <path d="M15 19l-7-7 7-7" stroke-width="3" stroke-linecap="square"></path>
                                    </svg></button>
                                <button onclick="nextStaff()"
                                    class="w-8 h-8 rounded bg-gray-100 border-2 border-gray-300 flex items-center justify-center hover:bg-gray-200 transition shadow-[2px_2px_0px_rgba(0,0,0,0.1)] active:shadow-none active:translate-y-[2px]"><svg
                                        class="w-3 h-3 text-gray-600" fill="none" stroke="currentColor"
                                        viewBox="0 0 24 24">
                                        <path d="M9 5l7 7-7 7" stroke-width="3" stroke-linecap="square"></path>
                                    </svg></button>
                            </div>
                        </div>
                        <div class="relative overflow-hidden h-24">
                            <div id="staff-container"
                                class="flex gap-4 transition-transform duration-300 ease-in-out absolute top-0 left-0 h-full items-center">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- GALLERY MODAL (NEW: PIXEL ART MUSEUM STYLE) -->
    <div id="gallery-modal"
        class="fixed inset-0 z-[150] hidden items-center justify-center bg-black/90 backdrop-blur-xl p-4">
        <div
            class="modal-content relative w-full max-w-5xl h-[85vh] bg-neutral-900 rounded-[1rem] shadow-2xl overflow-hidden border-4 border-yellow-600/50 flex flex-col md:flex-row transform scale-90 opacity-0 transition-all duration-300">
            <!-- Decorative Border -->
            <div class="absolute inset-0 border-[8px] border-neutral-800 pointer-events-none z-20"></div>

            <!-- Badge -->
            <div
                class="absolute top-4 left-1/2 -translate-x-1/2 bg-yellow-600/20 px-4 py-1 rounded-full border border-yellow-500/50 z-30">
                <span class="text-yellow-400 font-pixel text-xs tracking-widest">MUSEUM ARCHIVE #001</span>
            </div>

            <!-- Close Button -->
            <button onclick="closeGallery()"
                class="absolute top-4 right-4 z-40 w-12 h-12 bg-red-600 hover:bg-red-700 text-white rounded-md flex items-center justify-center border-b-4 border-red-800 active:border-b-0 active:translate-y-1 transition font-bold font-pixel shadow-lg">X</button>

            <!-- Image Area -->
            <div class="w-full md:w-3/4 h-full bg-black flex items-center justify-center p-8 relative overflow-hidden">
                <!-- Retro Grid Background -->
                <div class="absolute inset-0 opacity-20 retro-scanlines pointer-events-none"></div>
                <img id="gallery-img" src=""
                    class="max-w-full max-h-full object-contain shadow-[0_0_50px_rgba(255,255,255,0.1)] border-4 border-white">
            </div>

            <!-- Info Area (Pixel Art Style) -->
            <div
                class="w-full md:w-1/4 h-full bg-neutral-800 p-6 flex flex-col justify-center border-l-4 border-neutral-700 font-mono text-gray-300 relative">
                <!-- Decoration Lines -->
                <div class="absolute top-0 right-0 w-full h-2 bg-gradient-to-r from-yellow-500 to-purple-600"></div>

                <div class="mb-8">
                    <h3 class="text-[10px] text-yellow-400 mb-2 font-pixel uppercase tracking-widest">ARTIFACT NAME</h3>
                    <p id="gallery-title"
                        class="text-xl font-bold text-white border-b-2 border-gray-600 pb-2 font-pixel leading-relaxed text-cyan-300 shadow-sm">
                        Title Here</p>
                </div>

                <div class="mb-6 flex-grow">
                    <h3 class="text-[10px] text-pink-400 mb-2 font-pixel uppercase tracking-widest">DESCRIPTION</h3>
                    <p class="text-sm leading-relaxed text-gray-300 font-retro">Dokumentasi kegiatan resmi PW PII
                        Kalimantan Barat. Momen ini diabadikan sebagai bagian dari sejarah pergerakan pelajar. <br><br>
                        <span class="text-green-400">> Status: Archived</span>
                    </p>
                </div>

                <div class="mt-auto">
                    <div class="bg-neutral-900 p-4 rounded border border-neutral-700 text-xs shadow-inner">
                        <p class="flex justify-between mb-2"><span class="text-gray-500">PERIODE:</span> <span
                                class="text-green-400 font-bold font-pixel">2025-2027</span></p>
                        <p class="flex justify-between mb-2"><span class="text-gray-500">TYPE:</span> <span
                                class="text-blue-400 font-bold font-pixel">PHOTO</span></p>
                        <p class="flex justify-between"><span>RARITY:</span> <span
                                class="text-yellow-500 font-bold font-pixel">EPIC</span></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- FOOTER -->
    <!-- FOOTER INFORMASI -->
    <footer class="glass-footer pt-20 pb-10 text-white relative hex-bg-dark border-t border-white/5">
        <div class="max-w-7xl mx-auto px-6 grid grid-cols-1 md:grid-cols-4 gap-12 mb-16 text-left">
            <div class="md:col-span-1 space-y-6">
                <h2 class="text-2xl font-black italic tracking-tighter text-white">PW PII KALBAR</h2>
                <p class="text-gray-400 text-sm leading-relaxed">Organisasi massa pelajar tertua di Indonesia
                    yang
                    fokus pada kaderisasi dan pendidikan untuk mewujudkan muslim yang cendekia dan pemimpin.</p>
                <div class="flex space-x-4">
                    <a href="#"
                        class="w-10 h-10 bg-white/5 rounded-full flex items-center justify-center hover:bg-gradient-to-tr hover:from-yellow-400 hover:to-purple-600 transition">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                            <path
                                d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z" />
                        </svg>
                    </a>
                    <a href="#"
                        class="w-10 h-10 bg-white/5 rounded-full flex items-center justify-center hover:bg-red-600 transition">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                            <path
                                d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z" />
                        </svg>
                    </a>
                    <!-- FACEBOOK ICON -->
                    <a href="#"
                        class="w-10 h-10 bg-white/5 rounded-full flex items-center justify-center hover:bg-blue-600 transition">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                            <path
                                d="M22.675 0h-21.35c-.732 0-1.325.593-1.325 1.325v21.351c0 .731.593 1.324 1.325 1.324h11.495v-9.294h-3.128v-3.622h3.128v-2.671c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.795.143v3.24l-1.918.001c-1.504 0-1.795.715-1.795 1.763v2.313h3.587l-.467 3.622h-3.12v9.293h6.116c.73 0 1.323-.593 1.323-1.325v-21.35c0-.732-.593-1.325-1.325-1.325z" />
                        </svg>
                    </a>
                </div>
            </div>
            <div class="md:col-span-1">
                <h4 class="font-bold text-white mb-6">Tautan Cepat</h4>
                <ul class="space-y-4 text-gray-400 text-sm">
                    <li><a href="#" class="hover:text-indigo-400 transition">Profil PII</a></li>
                    <li><a href="#" class="hover:text-indigo-400 transition">Sejarah Organisasi</a></li>
                    <li><a href="#" class="hover:text-indigo-400 transition">Info Leadership Training</a></li>
                    <li><a href="#" class="hover:text-indigo-400 transition">Riset Pelajar</a></li>
                    <li><a href="#" class="hover:text-indigo-400 transition">Donasi Peradaban</a></li>
                </ul>
            </div>
            <div class="md:col-span-2 text-left">
                <h4 class="font-bold text-white mb-6">Kontak Kami</h4>
                <div class="space-y-4 text-gray-400 text-sm">
                    <div class="flex items-start space-x-4">
                        <svg class="w-6 h-6 text-indigo-500 flex-shrink-0" fill="none" stroke="currentColor"
                            viewBox="0 0 24 24">
                            <path
                                d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0zM15 11a3 3 0 11-6 0 3 3 0 016 0z"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                        </svg>
                        <p>Jl. Tebu, Gang. Bersama 1C, Kel. Sungai Jawi, Kec. Pontianak Barat, Kota Pontianak,
                            Kalimantan
                            Barat.</p>
                    </div>
                    <div class="flex items-center space-x-4">
                        <svg class="w-6 h-6 text-indigo-500 flex-shrink-0" fill="none" stroke="currentColor"
                            viewBox="0 0 24 24">
                            <path
                                d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                        </svg>
                        <p>piikalbar25@gmail.com</p>
                    </div>
                    <div class="flex items-center space-x-4">
                        <svg class="w-6 h-6 text-indigo-500 flex-shrink-0" fill="none" stroke="currentColor"
                            viewBox="0 0 24 24">
                            <path
                                d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                        </svg>
                        <p>+62 896-9382-4852</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="max-w-7xl mx-auto px-6 pt-10 border-t border-white/5 text-center">
            <p class="text-gray-500 text-xs tracking-widest uppercase">&copy; 2025 PW PII Kalimantan Barat.
                Seluruh
                hak cipta dilindungi. <br class="md:hidden"> Powered by Bidang Riset & Teknologi.</p>
        </div>
    </footer>

    <!-- 
        [INSTRUKSI UNTUK USER - OPTIMASI GAMBAR]
        Agar website lebih ringan (dari 130MB menjadi < 5MB):
        1. Buka folder './logo/' dan './logo/Foto Pengurus/'.
        2. Gunakan website seperti https://tinypng.com atau https://squoosh.app.
        3. Kompres semua file foto (.png, .jpg) lalu convert ke format .webp.
        4. Ganti file lama dengan file baru yang sudah dikompres.
    -->
    <script>
        // SKELETON LOADER LOGIC (Moved to bottom)
        document.addEventListener("DOMContentLoaded", () => {
            const sk = document.getElementById('struktur-skeleton');
            // Fallback timeout to ensure loader doesn't stuck
            setTimeout(() => {
                if (sk) {
                    sk.style.opacity = '0';
                    setTimeout(() => sk.style.display = 'none', 500);
                }
            }, 1500); // Max wait 1.5s

            // Native Lazy Loading Check
            if ('loading' in HTMLImageElement.prototype) {
                // Browser supports lazy loading, let it handle images
            } else {
                // Fallback for very old browsers (optional)
            }

            // Hide skeleton immediately if window is already loaded
            if (document.readyState === 'complete') {
                sk.style.opacity = '0';
                setTimeout(() => sk.style.display = 'none', 500);
            } else {
                window.addEventListener('load', () => {
                    sk.style.opacity = '0';
                    setTimeout(() => sk.style.display = 'none', 500);
                });
            }
        });

        // MOBILE MENU TOGGLE
        const mobileBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');

        if (mobileBtn && mobileMenu) {
            mobileBtn.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });
        }

        // --- KONFIGURASI TEMA PARTIKEL BERGERAK ---
        const roleThemes = {
            'ketum': [
                'https://cdn-icons-png.flaticon.com/512/3389/3389081.png',
                'https://cdn-icons-png.flaticon.com/512/1006/1006555.png',
                'https://cdn-icons-png.flaticon.com/512/2991/2991108.png'
            ],
            'sekum': [
                'https://cdn-icons-png.flaticon.com/512/888/888034.png',
                'https://cdn-icons-png.flaticon.com/512/1250/1250925.png',
                'https://cdn-icons-png.flaticon.com/512/265/265682.png'
            ],
            'bendum': [
                'https://cdn-icons-png.flaticon.com/512/2489/2489756.png',
                'https://cdn-icons-png.flaticon.com/512/272/272525.png',
                'https://cdn-icons-png.flaticon.com/512/4105/4105457.png'
            ],
            'kaderisasi': [
                'https://cdn-icons-png.flaticon.com/512/2232/2232688.png',
                'https://cdn-icons-png.flaticon.com/512/2997/2997255.png',
                'https://cdn-icons-png.flaticon.com/512/3135/3135810.png'
            ],
            'ppo': [
                'https://cdn-icons-png.flaticon.com/512/609/609803.png',
                'https://cdn-icons-png.flaticon.com/512/1534/1534938.png',
                'https://cdn-icons-png.flaticon.com/512/1005/1005141.png'
            ],
            'komum': [
                'https://cdn-icons-png.flaticon.com/512/3059/3059486.png',
                'https://cdn-icons-png.flaticon.com/512/3616/3616856.png',
                'https://cdn-icons-png.flaticon.com/512/733/733641.png'
            ],
            'ekonomi': [
                'https://cdn-icons-png.flaticon.com/512/3310/3310624.png',
                'https://cdn-icons-png.flaticon.com/512/2525/2525790.png',
                'https://cdn-icons-png.flaticon.com/512/3144/3144456.png'
            ],
            'riset': [
                'https://cdn-icons-png.flaticon.com/512/5968/5968350.png',
                'https://cdn-icons-png.flaticon.com/512/2721/2721620.png',
                'https://cdn-icons-png.flaticon.com/512/3755/3755364.png',
                'https://cdn-icons-png.flaticon.com/512/2920/2920323.png'
            ]
        };

        // --- DATA PENGURUS ---
        const orgData = {
            'ketum': {
                name: "M. Ardiansyah",
                pos: "Ketua Umum",
                img: "./logo/Foto Pengurus/Ardi.webp",
                bio: { "Jurusan": "S1 Ilmu Al-Qur'an dan Tafsir", "Instansi": "IAIN Pontianak", "Minat": "Baca dan Literasi Islam", "Skill": "Leadership" },
                socials: { ig: "https://www.instagram.com/ardoue.ngl/" },
                quote: "Pemimpin bukan tentang posisi, tapi tentang aksi.",
                staff: []
            },
            'sekum': {
                name: "Joni Hatta",
                pos: "Sekretaris Umum",
                img: "./logo/Foto Pengurus/Joni Hatta.webp",
                bio: { "Jurusan": "D3 Adm. Negara", "Instansi": "Politeknik Negeri Pontianak", "Minat": "Human Management", "Skill": "Manajemen" },
                socials: { ig: "https://www.instagram.com/jhatta__/" },
                quote: "Ketertiban administrasi adalah pangkal keberhasilan organisasi.",
                staff: []
            },
            'bendum': {
                name: "Zahra Najwa Alatas",
                pos: "Bendahara Umum",
                img: "./logo/Foto Pengurus/zahra.webp",
                bio: { "Jurusan": "S1 Administrasi Bisnis", "Instansi": "IAIN Pontianak", "Minat": "Entrepreneurship", "Skill": "Finance Managemen & Entrepreneurship" },
                socials: { ig: "https://www.instagram.com/znalatas/" },
                quote: "Transparansi dan akuntabilitas adalah kunci kepercayaan.",
                staff: []
            },
            'kaderisasi': {
                name: "Nur Atira",
                pos: "Bidang Kaderisasi",
                img: "./logo/Foto Pengurus/Nur â€˜Atira.webp",
                bio: { "Jurusan": "S1 Komisi Penyiaran Islam", "Instansi": "IAIN Pontianak", "Minat": "Teaching", "Skill": "Public Speaking" },
                socials: { ig: "https://www.instagram.com/atiraa_nr/?utm_source=ig_web_button_share_sheet" },
                quote: "Ayo bang ke almaz sekarang, mumpung maghrib sepi.",
                staff: [{ name: "Putri Aulia", pos: "Dept. Taklim", img: "./logo/Foto Pengurus/putri aulia.webp", role: "kaderisasi", bio: { "Jurusan": "S1 Pendidikan Islam", "Instansi": "IAIN Pontianak", "Minat": "Ilmu Tilawah Al-Qur'an", "Skill": "Mengaji" }, socials: { ig: "https://www.instagram.com/__ptriaaulia?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw==" }, quote: "Nda an tau aku." }]
            },
            'ppo': {
                name: "Besirin, S.Psi.",
                pos: "Bidang PPO",
                img: "./logo/Foto Pengurus/Besiri.webp",
                bio: { "Jurusan": "S1 & S2 Psikologi Islam", "Instansi": "Univ. Negeri Yogyakarta", "Minat": "Character Building", "Skill": "Networking" },
                socials: { ig: "https://www.instagram.com/besirin.id/" },
                quote: "Organisasi yang kuat berawal dari daerah yang berdaya.",
                staff: [{ name: "Lukman", pos: "Staff PPO", img: "./logo/Foto Pengurus/lukman.webp", role: "ppo", bio: { "Minat": "Physical Training", "Skill": "Islamic Public Speaking" }, socials: { ig: "https://www.instagram.com/manlukqman/" }, quote: "Bertaqwalah Kepada Allah" }]
            },
            'komum': {
                name: "Dita Azzahra",
                pos: "Bidang Komum",
                img: "./logo/Foto Pengurus/dita.webp",
                bio: { "Jurusan": "Komunikasi", "Instansi": "IAIN Pontianak", "Minat": "Jurnalistik", "Skill": "Public Speaking" },
                socials: { ig: "https://www.instagram.com/dita_azzahra15/" },
                quote: "Membangun jembatan silaturahmi.",
                staff: []
            },
            'ekonomi': {
                name: "Zahra Najwa Alatas",
                pos: "Bidang Ekonomi",
                img: "./logo/Foto Pengurus/zahra.webp",
                bio: { "Jurusan": "Administrasi Bisnis", "Instansi": "IAIN Pontianak", "Minat": "Entrepreneurship", "Skill": "Trading" },
                socials: { ig: "https://www.instagram.com/znalatas/" },
                quote: "Kemandirian ekonomi merupakan fondasi pergerakan.",
                staff: []
            },
            'riset': {
                name: "Fiqkri Putra Riswanda",
                pos: "Bidang Riset & Digitalisasi",
                img: "./logo/Foto Pengurus/Fiqkri Putra Riswanda.webp",
                bio: { "Jurusan": "S1 Fisika", "Instansi": "Univ. Tanjungpura", "Minat": "Computational Physics, Machine Learning, & Data Science", "Skill": "Programming, Data Analys, Human Management" },
                socials: { ig: "https://www.instagram.com/_fqkriptra_/", linkedin: "ttps://www.linkedin.com/in/fiqkri-putra-riswanda-958766338/" },
                quote: "Data driven decision making untuk organisasi yang modern.",
                staff: []
            }
        };

        const modal = document.getElementById('profile-modal');
        let currentStaffIdx = 0;
        let activeStaffList = [];

        function openProfile(idOrData) {
            let data;
            let roleKey = '';

            if (typeof idOrData === 'string') {
                data = orgData[idOrData];
                roleKey = idOrData;
                activeStaffList = data.staff || [];
            } else {
                // Staff member - use their parent role for icons
                data = idOrData;
                roleKey = data.role || 'kaderisasi'; // Use staff's role, fallback to kaderisasi
                activeStaffList = [];
            }

            if (!data) return;

            // Generate Background Particles Optimally
            const bgContainer = document.getElementById('modal-bg-anim');
            bgContainer.innerHTML = '';

            const particles = roleThemes[roleKey] || roleThemes['ketum'];
            const fragment = document.createDocumentFragment();

            // Reduced particle count (8 instead of 20) for better network payload/performance
            for (let i = 0; i < 8; i++) {
                const img = document.createElement('img');
                img.src = particles[Math.floor(Math.random() * particles.length)];
                img.loading = "lazy";
                img.decoding = "async";
                img.width = 40;
                img.height = 40;
                img.className = 'context-particle absolute animate-float-random opacity-60';

                let left = Math.random() * 100;
                let top = Math.random() * 100;

                img.style.left = left + '%';
                img.style.top = top + '%';
                img.style.width = (Math.random() * 30 + 20) + 'px';
                img.style.animationDuration = (Math.random() * 10 + 10) + 's';
                img.style.animationDelay = (Math.random() * 5) + 's';

                fragment.appendChild(img);
            }
            bgContainer.appendChild(fragment);

            document.getElementById('modal-name').innerText = data.name;
            document.getElementById('modal-pos').innerText = data.pos;
            document.getElementById('modal-img').src = data.img;
            document.getElementById('modal-img').onerror = function () { this.src = 'https://via.placeholder.com/150?text=IMG'; };
            document.getElementById('modal-quote').innerText = `"${data.quote}"`;

            const bioContainer = document.getElementById('modal-bio');
            bioContainer.innerHTML = '';

            const pixelIcons = { "Jurusan": "ðŸŽ“", "Instansi": "ðŸ›ï¸", "Minat": "â¤ï¸", "Skill": "âš¡" };

            if (data.bio) {
                for (const [key, value] of Object.entries(data.bio)) {
                    const icon = pixelIcons[key] || "ðŸ”¹";
                    bioContainer.innerHTML += `
                    <div class="flex items-center justify-between border-b border-gray-200 pb-2 border-dashed last:border-0">
                        <span class="text-indigo-600 font-bold uppercase tracking-wider text-[10px]">${icon} ${key}</span>
                        <span class="font-bold text-gray-800 text-right">${value}</span>
                    </div>`;
                }
            } else {
                bioContainer.innerHTML = '<span class="text-gray-400 italic">No data available.</span>';
            }

            const socialContainer = document.getElementById('modal-socials');
            socialContainer.innerHTML = '';
            if (data.socials) {
                const icons = {
                    ig: '<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>',
                    fb: '<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"/></svg>',
                    linkedin: '<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M4.98 3.5c0 1.381-1.11 2.5-2.48 2.5s-2.48-1.119-2.48-2.5c0-1.38 1.11-2.5 2.48-2.5s2.48 1.12 2.48 2.5zm.02 4.5h-5v16h5v-16zm7.982 0h-4.968v16h4.969v-8.399c0-4.67 6.029-5.052 6.029 0v8.399h4.988v-10.131c0-7.88-8.922-7.593-11.018-3.714v-2.155z"/></svg>'
                };

                for (const [platform, handle] of Object.entries(data.socials)) {
                    let url = handle;
                    if (!handle.startsWith('http')) {
                        const cleanHandle = handle.replace('@', '');
                        // Simplified base URL logic
                        const base = platform === 'ig' ? 'https://instagram.com/' : (platform === 'fb' ? 'https://facebook.com/' : 'https://linkedin.com/in/');
                        url = `${base}${cleanHandle}`;
                    }
                    socialContainer.innerHTML += `<a href="${url}" target="_blank" rel="noopener noreferrer" class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center text-white hover:bg-yellow-400 hover:text-indigo-900 transition-all duration-300 shadow-lg hover:scale-110">${icons[platform] || platform}</a>`;
                }
            }

            currentStaffIdx = 0;
            renderStaff();

            modal.classList.remove('hidden');
            modal.classList.add('flex');
            setTimeout(() => {
                modal.querySelector('.modal-content').classList.remove('scale-90', 'opacity-0');
                modal.querySelector('.modal-content').classList.add('scale-100', 'opacity-100');
            }, 50);
        }

        function closeProfile() {
            modal.querySelector('.modal-content').classList.remove('scale-100', 'opacity-100');
            modal.querySelector('.modal-content').classList.add('scale-90', 'opacity-0');
            setTimeout(() => { modal.classList.remove('flex'); modal.classList.add('hidden'); }, 300);
        }

        // --- FUNGSI GALLERY MODAL ---
        function openGallery(imgSrc, title) {
            const gModal = document.getElementById('gallery-modal');
            const gImg = document.getElementById('gallery-img');
            const gTitle = document.getElementById('gallery-title');

            gImg.src = imgSrc;
            gTitle.innerText = title || "Dokumentasi Kegiatan";

            gModal.classList.remove('hidden');
            gModal.classList.add('flex');
            setTimeout(() => {
                gModal.querySelector('.modal-content').classList.remove('scale-90', 'opacity-0');
                gModal.querySelector('.modal-content').classList.add('scale-100', 'opacity-100');
            }, 50);
        }

        function closeGallery() {
            const gModal = document.getElementById('gallery-modal');
            gModal.querySelector('.modal-content').classList.remove('scale-100', 'opacity-100');
            gModal.querySelector('.modal-content').classList.add('scale-90', 'opacity-0');
            setTimeout(() => { gModal.classList.remove('flex'); gModal.classList.add('hidden'); }, 300);
        }

        function renderStaff() {
            const container = document.getElementById('staff-container');
            container.innerHTML = '';
            if (activeStaffList.length === 0) {
                container.innerHTML = '<span class="text-gray-400 text-xs italic w-full pl-2">Tidak ada data staff untuk ditampilkan.</span>';
                return;
            }
            activeStaffList.forEach((staff, index) => {
                const div = document.createElement('div');
                div.className = 'flex items-center gap-3 min-w-[180px] bg-white p-2 rounded-lg border border-gray-100 shadow-sm hover:shadow-md cursor-pointer transition';
                div.onclick = () => openProfile(staff);
                div.innerHTML = `<img src="${staff.img}" loading="lazy" decoding="async" class="w-10 h-10 rounded-full border border-gray-200 object-cover" style="object-position: center 35%; image-rendering: -webkit-optimize-contrast; image-rendering: crisp-edges; transform: scale(1.15); backface-visibility: hidden;"><div><p class="text-xs font-bold text-gray-800 leading-tight">${staff.name}</p><p class="text-[10px] text-gray-500">${staff.pos}</p></div>`;
                container.appendChild(div);
            });
            updateStaffPosition();
        }

        function updateStaffPosition() {
            const container = document.getElementById('staff-container');
            const offset = currentStaffIdx * -190;
            container.style.transform = `translateX(${offset}px)`;
        }

        function nextStaff() { if (currentStaffIdx < activeStaffList.length - 1) { currentStaffIdx++; updateStaffPosition(); } }
        function prevStaff() { if (currentStaffIdx > 0) { currentStaffIdx--; updateStaffPosition(); } }

        modal.addEventListener('click', (e) => { if (e.target === modal) closeProfile(); });
        document.getElementById('gallery-modal').addEventListener('click', (e) => { if (e.target === document.getElementById('gallery-modal')) closeGallery(); });

        // Throttled drawLines to avoid layout thrashing
        let resizeTimer;
        function throttledDraw() {
            clearTimeout(resizeTimer);
            resizeTimer = setTimeout(drawLines, 100);
        }

        function drawLines() {
            const svg = document.getElementById('connector-svg');
            if (!svg) return;

            // OPTIMASI: Skip drawing lines on mobile to save CPU
            if (window.innerWidth < 768) {
                svg.innerHTML = '';
                return;
            }

            const ketum = document.getElementById('card-ketum');
            const sekum = document.getElementById('card-sekum');
            const bendum = document.getElementById('card-bendum');
            const bidIds = ['card-bid1', 'card-bid2', 'card-bid3', 'card-bid4', 'card-bid5'];

            if (!ketum || !sekum || !bendum) return;

            // BATCH READS (Prevent layout thrashing)
            const parentRect = svg.getBoundingClientRect();
            const rectK = ketum.getBoundingClientRect();
            const rectS = sekum.getBoundingClientRect();
            const rectB = bendum.getBoundingClientRect();
            const bidRects = bidIds.map(id => document.getElementById(id).getBoundingClientRect());

            const getRelativePos = (rect) => ({
                x: rect.left + rect.width / 2 - parentRect.left,
                y: rect.top + rect.height / 2 - parentRect.top,
                top: rect.top - parentRect.top,
                bottom: rect.bottom - parentRect.top
            });

            const pK = getRelativePos(rectK);
            const pS = getRelativePos(rectS);
            const pB = getRelativePos(rectB);
            const midY = (pK.bottom + pS.top) / 2;

            svg.innerHTML = ''; // Start Batch Writes

            const path1 = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            path1.setAttribute('class', 'connector-path');
            const d1 = `M ${pK.x} ${pK.bottom} V ${midY} H ${pS.x} V ${pS.top} M ${pK.x} ${midY} H ${pB.x} V ${pB.top}`;
            path1.setAttribute('d', d1);
            svg.appendChild(path1);

            let minX = 99999, maxX = 0;
            const pBids = bidRects.map(r => getRelativePos(r));
            pBids.forEach(pos => {
                if (pos.x < minX) minX = pos.x;
                if (pos.x > maxX) maxX = pos.x;
            });

            if (pBids.length > 0) {
                const branchY = (pS.bottom + pBids[0].top) / 2;
                const path2 = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                path2.setAttribute('class', 'connector-path');
                let d2 = `M ${pK.x} ${midY} V ${branchY} H ${minX} M ${pK.x} ${branchY} H ${maxX}`;
                pBids.forEach(pos => { d2 += ` M ${pos.x} ${branchY} V ${pos.top}`; });
                path2.setAttribute('d', d2);
                svg.appendChild(path2);
            }
        }

        window.addEventListener('resize', throttledDraw);
        window.addEventListener('load', throttledDraw);
        setTimeout(throttledDraw, 800); 
    </script>
</body>

</html>